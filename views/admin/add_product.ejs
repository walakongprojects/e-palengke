<%- include('../partials/adminheader') %>

  <div class="container">
    <h1 class="display-4">Add Product</h1>
    <a href="/admin/products" role="button" class="btn btn-primary">Back to Products</a>
  </div>
  <br>
  <form action="/admin/products/add-product" method="POST" enctype="multipart/form-data">
  
    <div class="form-group">
      <label for="title">Title</label>
      <input type="text" id="title" name="title" value="<%= title %>" class="form-control form-control-sm" placeholder="Title">
    </div>

    <div class="form-group">
      <label for="description">Description</label>
      <textarea id="description" placeholder="Description" name="description" rows="5" class="form-control"><%= description %></textarea>
    </div>

    <div class="form-group">
      <label for="description">Category</label>
      <select name="category" class="form-control">
        <% categories.forEach(category => { %>
          <option value="<%= category.slug %>"><%= category.title %></option>
        <% }); %>
      </select>
    </div>

    <div class="form-group">
      <label for="slug">Price</label>
      <input type="text" name="price" id="price" value="<%= price %>" class="form-control form-control-sm" placeholder="Price">
    </div>

    <div class="form-group">
      <label for="slug">Quantity</label>
      <input type="text" name="quantity" id="quantity" value="<%= quantity %>" class="form-control form-control-sm" placeholder="Quantity">
    </div>

    <div class="form-group">
        <label for="">Image</label>
        <input type="file" class="form-control" name="image" id="img">
        <img src="#" id="imgPreview" alt="">
    </div>

    <button class="btn btn-outline-primary" type="submit">Submit</button>

  </form>


  <script>
  
    function readURL(input) {
        if (input.files && input.files[0]) {
            var reader = new FileReader();
            
            reader.onload = function(e) {
                $("#imgPreview").attr('src', e.target.result).width(100).height(100);
            }
            
            reader.readAsDataURL(input.files[0]);
        }
    }
    
    $("#img").change(function() {
        readURL(this);
    });
    
  </script>

<%- include('../partials/adminfooter') %>